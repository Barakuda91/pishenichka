<script type="text/x-template" id="create_sectors">
    <transition name="modal">
        <div class="modal-mask">
            <div class="modal-wrapper">
                <div class="modal-container">

                    <div class="modal-header">
                        <slot name="header">
                            <h3 slot="header">создание нового сектора</h3>
                        </slot>
                    </div>

                    <div class="modal-body">
                        <slot name="body">
                            <p>вы можете разделить ваш регион на сектора. минимальный размер сектора - 1га.<br />
                                если вы оградите сектор - он не будет считатьс дочерним сектором данного региона, и его можно будет продать.</p>

                            <div class="input-group mb-3" v-for="(n, i) in sectors">
                                <select @change="check()" class="form-select form-select-sm" v-model="sectors[i].type" aria-label=".form-select-sm example">
                                    <option disabled selected="selected">тип сектора</option>
                                    <option value="FIELD">поле</option>
                                    <option value="VINEYARD">виноградник</option>
                                    <option value="GARDEN">сад</option>
                                    <option style="font-size: 1pt; background-color: rgba(0,0,0,0.33);" disabled>&nbsp;</option>
                                    <option value="WAREHOUSE">склад</option>
                                    <option value="ELEVATOR">элеватор</option>
                                    <option value="WELL">скважина</option>
                                    <option value="GARAGE">гараж</option>
                                    <option style="font-size: 1pt; background-color: rgba(0,0,0,0.33);" disabled>&nbsp;</option>
                                    <option value="WINERY">винный завод</option>
                                    <option value="BREWERY">пивоварня</option>
                                    <option value="DISTILLERY">вискикурня</option>
                                    <option style="font-size: 1pt; background-color: rgba(0,0,0,0.33);" disabled>&nbsp;</option>
                                    <option value="BAKERY">хлебзавод</option>
                                </select>
                                <input @change="check()" type="number" min="1" v-bind:max="available_space" v-model="sectors[i].size" placeholder="размер га" class="form-control" aria-describedby="button-addon1">
                                <div class="form-check" style="margin: 8px">
                                    <input class="form-check-input" type="checkbox" v-model="sectors[i].separate" id="flexcheckchecked">
                                    <label class="form-check-label" for="flexcheckchecked">
                                        отделить
                                    </label>
                                </div>

                                <button v-if="i === sectors.length - 1 && newsectordisabled" @click="sectors.push({ size: 1 }); check()">+</button>
                                <button v-if="i !== sectors.length - 1 || !newsectordisabled" @click="sectors.pop(); check()">-</button>
                            </div>
                        </slot>
                    </div>

                    <div class="modal-footer">
                        <slot name="footer">
                            <h6 class="text-danger" v-if="!newsectordisabled" style="width: 45%;">доступно только {{available_space}}га</h6>
                            <button class="modal-default-button" @click="$emit('close')" style="width: 25%;">
                                отмена
                            </button>
                            <button class="modal-default-button" v-bind:disabled="createdisabled" @click="create()" style="width: 25%;">
                                создать
                            </button>
                        </slot>
                    </div>
                </div>
            </div>
        </div>
    </transition>
</script>

